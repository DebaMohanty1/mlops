schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw/Machine_downtime.csv
      hash: md5
      md5: d145b7eb04df19b470da495fb0ed21a7
      size: 471770
    - path: src/preprocess.py
      hash: md5
      md5: 5e4198b0f87ee55aa7920b22d8d2af29
      size: 3457
    outs:
    - path: data/processed/train.csv
      hash: md5
      md5: 6f6e770e185c9abd7893de0b7707e8c1
      size: 1832713
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 6f6e770e185c9abd7893de0b7707e8c1
      size: 1832713
    - path: src/train.py
      hash: md5
      md5: 3860ab938192196f8124e53b6450fa7b
      size: 6523
    outs:
    - path: models/model.pkl
      hash: md5
      md5: a45ed52235802e97c24f72d660bb2e1a
      size: 312697
    - path: reports/metrics.json
      hash: md5
      md5: 21a53db6ef3126cb0cf50be696671e76
      size: 47
  detect_drift:
    cmd: python src/detect_drift.py
    deps:
    - path: data/live/batch_1.csv
      hash: md5
      md5: 6678cc618a66eb29e90289c5bd15f0b2
      size: 1893427
    - path: data/live/batch_2.csv
      hash: md5
      md5: 990ee74c247b38f5277e973e8a475592
      size: 1893682
    - path: data/live/batch_3.csv
      hash: md5
      md5: 257e929ea63942e41f114f079b1aaff4
      size: 1891906
    - path: data/processed/train.csv
      hash: md5
      md5: 126d62d80bc7598451ac7d232846c026
      size: 1883084
    - path: src/detect_drift.py
      hash: md5
      md5: e884404d4343fc3fedf21674131bd7b5
      size: 7418
    outs:
    - path: reports/drift_history.json
      hash: md5
      md5: 00b495ae8a697fc0f6a8b25112febffc
      size: 9048
    - path: reports/drift_log.json
      hash: md5
      md5: 9be74d4efb9478be3772c87dae5fa1c7
      size: 151
